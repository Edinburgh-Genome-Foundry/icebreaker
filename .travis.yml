sudo: required

services:
  - docker

install:
  - pip install coveralls pytest-cov pytest
  - pip install -e .

before_script:
  - cd ./tests/docker/
  - docker-compose up -d
  - sh ./restore_initial_state.sh
  - docker-compose restart
  - cd ../../

script:
  - python -m pytest -v --cov icebreaker --cov-report term-missing
  
after_success:
  - coveralls